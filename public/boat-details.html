<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/assets/css/boat-details.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Barlow&family=Barlow+Condensed&family=Gilda+Display&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="/assets/css/plugins.css">
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="stylesheet" href="/assets/css/boat-details.css">
    <style>
        .rates-container {
    background: linear-gradient(145deg, rgba(45, 65, 90, 0.95), rgba(35, 50, 70, 0.95));
    border-radius: 12px;
    padding: 2.5rem;
    margin-top: 2rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.rates-header {
    text-align: center;
    margin-bottom: 3rem;
}

.rates-header h2 {
    color: #fff;
    font-size: 2rem;
    margin-bottom: 1rem;
    font-family: 'Gilda Display', serif;
}

.season-title {
    display: block;
    color: #00c2cb;
    font-size: 1.25rem;
    margin-bottom: 0.5rem;
    letter-spacing: 2px;
}

.date-range {
    color: rgba(255, 255, 255, 0.7);
    font-size: 0.9rem;
    letter-spacing: 1px;
}

.rates-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.5rem;
    margin-bottom: 2.5rem;
}

.rate-card {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    padding: 1.5rem;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.rate-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
}

.rate-card.highlight {
    background: linear-gradient(145deg, rgba(0, 194, 203, 0.1), rgba(0, 194, 203, 0.05));
    border-color: rgba(0, 194, 203, 0.3);
}

.rate-period {
    color: #fff;
    font-size: 1rem;
    letter-spacing: 1px;
    margin-bottom: 1rem;
    text-align: center;
}

.rate-amount {
    text-align: center;
}

.rate-amount .label {
    display: block;
    color: rgba(255, 255, 255, 0.6);
    font-size: 0.8rem;
    margin-bottom: 0.25rem;
}

.rate-amount .price {
    display: block;
    color: #00c2cb;
    font-size: 1.75rem;
    font-weight: 600;
    margin: 0.5rem 0;
}

.rate-amount .period {
    display: block;
    color: rgba(255, 255, 255, 0.6);
    font-size: 0.8rem;
}

.rates-footer {
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    padding-top: 1.5rem;
    margin-top: 1rem;
}

.rate-notes p {
    color: rgba(255, 255, 255, 0.5);
    font-size: 0.85rem;
    margin-bottom: 0.5rem;
}

/* Mobile Responsive */
@media (max-width: 768px) {
    .rates-container {
        padding: 1.5rem;
    }

    .rates-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
    }

    .rate-card {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1.25rem;
    }

    .rate-period {
        margin-bottom: 0;
        text-align: left;
    }

    .rate-amount {
        text-align: right;
    }

    .rate-amount .price {
        font-size: 1.5rem;
    }
}
    </style>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>
    
    <!-- jQuery and Bootstrap -->
    <script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"></script>
    <title>Boat Details</title>
    
</head>
<body>
    <!-- boat-details.html -->
   <div class="boat-details-page">
    <!-- Navigation -->
    <div class="boat-header">
        <a href="#" class="back-button" onclick="history.back()">
            <i class="fas fa-arrow-left"></i> BACK TO SELECTION
        </a>
        <button class="favorite-btn">
            <i class="far fa-heart"></i>
        </button>
    </div>

    <!-- Main Gallery -->
    <div class="main-gallery">
        <div class="main-image">
            <img src="" alt="Main boat image" id="mainGalleryImage">
        </div>
        
        <!-- Info Overlay -->
        <div class="boat-info-overlay">
            <h1 class="boat-title" id="boatName">Vanquish 80</h1>
            
            <div class="quick-specs-bar">
                <div class="spec-item">
                    <span class="value" id="length"></span>
                    <span class="label">LENGTH</span>
                </div>
                <div class="spec-item">
                    <span class="value" id="built"></span>
                    <span class="label">BUILT/REFIT</span>
                </div>
                <div class="spec-item">
                    <span class="value" id="guests"></span>
                    <span class="label">GUESTS</span>
                </div>
                <div class="spec-item">
                    <span class="value" id="cabins">-</span>
                    <span class="label">CABINS</span>
                </div>
                <div class="spec-item">
                    <span class="value" id="crew"></span>
                    <span class="label">CREW</span>
                </div>
            </div>
            
            <div class="price-section">
                <div class="price-info">
                    <span class="value" id="price">â‚¬10,500</span>
                    <span class="period">per day</span>
                </div>
                <button class="btn btn-sm btn-book" onclick="openInquiryModal(this)">
                    <i class="fas fa-envelope"></i> Inquire Now
                </button>
            </div>
        </div>
    </div>

    <div id="inquiryModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Yacht Inquiry</h2>
            <form id="inquiryForm">
                <input type="text" name="name" placeholder="Your Name" required>
                <input type="email" name="email" placeholder="Email" required>
                <input type="tel" name="phone" placeholder="Phone">
                <input type="date" name="date" required>
                <textarea name="message" placeholder="Message"></textarea>
                <button type="submit">Send Inquiry</button>
            </form>
        </div>
    </div>

    <!-- Thumbnails -->
    <div class="thumbnail-grid" id="thumbnailGrid">
        <!-- Thumbnails injected by JS -->
    </div>

    <!-- Content Navigation -->
    <div class="content-tabs">
        <button class="tab-btn active" data-tab="description">DESCRIPTION</button>
        <button class="tab-btn" data-tab="specification">SPECIFICATION</button>
        <button class="tab-btn" data-tab="location">Boat Price</button>
    </div>

    <!-- Tab Content -->
    <div class="tab-content">
        <div class="tab-pane active" id="description">
            <h3>A LITTLE MORE ABOUT</h3>
            <h2 id="boatNameDesc"></h2>
            <div class="desc-content" id="boatDescription"></div>
        </div>

        <div class="tab-pane" id="specification">
            <h2>SPECIFICATION: <span id="boatNameSpec"></span></h2>
            <div class="specs-grid">
                <!-- Specifications injected by JS -->
            </div>
        </div>

     
        <div class="tab-pane" id="location">
            <div class="rates-container">
                <div class="rates-header">
                    <h2>SEASONAL RATES</h2>
                    <span class="season-title">SUMMER SEASON</span>
                    <span class="date-range">MAY - OCTOBER</span>
                </div>

                <div class="rates-grid">
                    <div class="rate-card">
                        <div class="rate-period">MAY & OCTOBER</div>
                        <div class="rate-amount">
                            <span class="label">From</span>
                            <span class="price"><span id="winterLowRate"></span></span>
                            <span class="period">per day</span>
                        </div>
                    </div>

                    <div class="rate-card">
                        <div class="rate-period">JUNE & SEPTEMBER</div>
                        <div class="rate-amount">
                            <span class="label">From</span>
                            <span class="price"><span id="summerLowRate"></span></span>
                            <span class="period">per day</span>
                        </div>
                    </div>

                    <div class="rate-card highlight">
                        <div class="rate-period">JULY & AUGUST</div>
                        <div class="rate-amount">
                            <span class="label">From</span>
                            <span class="price"><span id="summerHighRate"></span></span>
                            <span class="period">per day</span>
                        </div>
                    </div>
                </div>

                <div class="rates-footer">
                    <div class="rate-notes">
                        <p>* All prices are per day</p>
                        <p>* Fuel consumption not included</p>
                        <p>* VAT not included</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer Actions -->
    <div class="boat-actions">
        <button class="action-btn" data-boat-id="${boatId}">
            <i class="fas fa-plus"></i> ADD TO COMPARE
        </button>
        <button class="action-btn download-brochure" data-boat-id="${boatId}">
            <i class="fas fa-download"></i> BROCHURE
        </button>
        <button class="action-btn" data-boat-id="${boatId}">
            <i class="fas fa-share-alt"></i> SHARE
        </button>
    </div>
</div>
<script src="assets/js/brochure-download.js" ></script>
<script src="/assets/js/boat-details.js"></script>
    
   <!--  Modal -->
    <script>
    // Modal functionality
function openInquiryModal(btn) {
    const modal = document.getElementById('inquiryModal');
    const priceSection = btn.closest('.price-section');
    const price = priceSection.querySelector('#price').textContent;
    modal.style.display = "block";
    
    const form = modal.querySelector('#inquiryForm');
    
    // Reset form on open
    form.reset();
    
    form.onsubmit = async (e) => {
        e.preventDefault();
        
        // Disable submit button to prevent double submission
        const submitBtn = form.querySelector('button[type="submit"]');
        submitBtn.disabled = true;
        submitBtn.textContent = 'Sending...';
        
        try {
            // Get form data
            const formData = {
                price: price,
                name: form.querySelector('[name="name"]').value,
                email: form.querySelector('[name="email"]').value,
                phone: form.querySelector('[name="phone"]').value,
                date: form.querySelector('[name="date"]').value,
                message: form.querySelector('[name="message"]').value,
                timestamp: firebase.firestore.FieldValue.serverTimestamp(),
                status: 'new' // Add status for inquiry tracking
            };

            // Send to Firebase
            await db.collection('inquiries').add(formData);
            
            // Success handling
            modal.style.display = "none";
            alert('Inquiry sent successfully! We will contact you shortly.');
            form.reset();
            
        } catch (error) {
            console.error('Error:', error);
            alert('Error sending inquiry. Please try again.');
        } finally {
            // Re-enable submit button
            submitBtn.disabled = false;
            submitBtn.textContent = 'Send Inquiry';
        }
    };
}

// Modal close functionality
document.addEventListener('DOMContentLoaded', function() {
    const modal = document.getElementById('inquiryModal');
    const closeBtn = modal.querySelector('.close');
    
    // Close button handler
    closeBtn.onclick = function() {
        modal.style.display = "none";
    }
    
    // Click outside modal to close
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
    
    // Close on escape key
    document.addEventListener('keydown', function(event) {
        if (event.key === "Escape" && modal.style.display === "block") {
            modal.style.display = "none";
        }
    });
});
   </script>
    
</div>
</body>
</html>
